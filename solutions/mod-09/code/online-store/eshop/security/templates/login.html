<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/static/css/bulma.min.css" />
    <title>eShop Application - {% block title %}{% endblock %}</title>
  </head>

  <body>
    {% block content %}
    <div class="container is-fluid">
    <div class="notification is-primary">
        <section class="section">
        <h1 class="title">Login</h1>
        <form action="{% url 'login' %}" method="post">
            {% csrf_token %}
            <div class="field">
                <label class="label">Username</label>
                <div class="control">
                    <input class="input" type="text" id="usr-in" name="username" size="50">
                </div>
            </div>
            <div class="field">
                <label class="label">Password</label>
                <div class="control">
                    <input class="input" type="password" id="pwd-in" name="password">
                </div>
            </div>
            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link" type="submit" id="login-btn">Login</button>
                </div>
                <div class="control">
                    <a href="{% url 'home' %}" class="button is-primary" id="cancel-lnk">Cancel</a>
                </div>
            </div>
            {% if login_error %}
            <div class="notification is-danger" id="inv-usr-pwd-msg">
                <button class="delete"></button>
                Invalid username and/or password.
            </div>
            {% endif %}
        </form>
        </section>
        </div>
    </div>
    {% endblock %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
                const $notification = $delete.parentNode;

                $delete.addEventListener('click', () => {
                $notification.parentNode.removeChild($notification);
                });
            });
            });
    </script>
</body>
</html>
